Splitting 
$ python separate_fastq.py test.fastq.gz test1.fastq.gz test2.fastq.gz
$ fastqc test1.fastq.gz test2.fastq.gz

Mapping
$ bismark_genome_preparation --parallel 8 <dir_fasta_ref>
$ bismark <genome path> -p 4 --parallel 6 -q --pbat -o <output folder> -1 read1.-fastq.gz -2 read2.fastq.gz
$ deduplicate_bismark -p --output_dir <output folder> --bam <input bam file>
$ samtools view -h -q 20 <input bam file > -o <output folder bam file>
$ bismark_methylation_extractor --parallel 10 -p --no_overlap --ignore 7 --ignore_r2 7 --ignore_3prime 5 --ignore_3prime_r2 5 -o <output folder> --report --bedGraph --zero_based --cutoff 1 --CX --cytosine_report --genome_folder <genome path> <input bam file>
$ bismark2report --alignment_report <input_PE_report.txt> --dedup_report <input.deduplication_report.txt> --splitting_report <input.deduplicated_splitting_report.txt> --mbias_report <input.deduplicated.M-bias.txt>

Sorting and indexing
$ samtools sort -o file_bismark_bt2.deduplicated.filtered.sorted.bam <file_bismark_bt2.deduplicated.filtered.bam>
$ samtools index <file_bismark_bt2.deduplicated.filtered.sorted.bam>




